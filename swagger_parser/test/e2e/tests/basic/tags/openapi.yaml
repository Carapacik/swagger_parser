openapi: 3.1.0
info:
  title: ''
  version: 0.0.0 (v1)
paths:
  /api/v1/untagged-should-go-to-default-client/:
    get:
      operationId: api_v1_category_list
      responses:
        '204':
          description: ''
  /api/v1/tagged-as-client-should-not-be-lost/:
    get:
      operationId: api_v1_category_list
      tags:
        - Fallback
      responses:
        '204':
          description: ''
  /api/v1/many-tagged/:
    get:
      operationId: api_v1_category_list
      tags:
        - client2
        - Many
      responses:
        '204':
          description: ''
  /parcel-pending-webhook/buildings/{buildingId}:
    get:
      summary: get Parcel Pending webhook URL
      tags:
        - Parcel Pending
      operationId: getParcelPendingWebhookURL
      parameters:
        - $ref: '#/components/parameters/buildingIdPath'
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                type: object
                properties:
                  webhookURL:
                    type: string
                    example: http://127.0.0.1:4040

  /projects/{projectId}/buildings/{buildingId}/parcel-pending/settings:
    get:
      tags:
        - Parcel-Pending
      description: Retrieve the ParcelPending settings of a building
      operationId: getParcelPendingBuildingSettings
      parameters:
        - $ref: '#/components/parameters/buildingIdPath'
        - $ref: '#/components/parameters/projectIdInPath'
      responses:
        '200':
          description: Building settings retrieved successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiParcelPendingBuildingSettings'
    post:
      tags:
        - Parcel=Pending
      description: Create or update ParcelPending settings of a building
      operationId: createUpdateParcelPendingBuildingSettings
      parameters:
        - $ref: '#/components/parameters/buildingIdPath'
        - $ref: '#/components/parameters/projectIdInPath'
      requestBody:
        description: Building settings
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ApiParcelPendingBuildingSettingsRequest'
      responses:
        '200':
          description: Building settings created or updated successfully
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ApiParcelPendingBuildingSettings'

components:
  schemas:
    ApiParcelPendingBuildingSettings:
      type: object
      required:
        - isDellaManaged
      properties:
        isDellaManaged:
          type: boolean
        externalPropertyId:
          type: string
        externalBuildingName:
          type: string
          minLength: 1
          maxLength: 120

    ApiParcelPendingBuildingSettingsRequest:
      type: object
      required:
        - isDellaManaged
      properties:
        isDellaManaged:
          type: boolean
        externalPropertyId:
          type: string
        externalBuildingName:
          type: string
          minLength: 1
          maxLength: 120
  parameters:
    projectIdInPath:
      in: path
      name: projectId
      required: true
      allowReserved: true
      schema:
        type: string
        format: uuid
      description: Identifier for an existing project.
    buildingIdPath:
      in: path
      name: buildingId
      required: true
      schema:
        type: string
        format: uuid
      description: Identifier for an existing building.
      allowReserved: true
