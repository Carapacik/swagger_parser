openapi: 3.1.0
info:
  title: API
  version: 1.0.0
paths:
  /pets:
    get:
      operationId: findPets
      parameters:
        - in: query
          name: deprecatedQueryParameter
          deprecated: true
          required: true
          schema:
            type: integer
            default: 0

      responses:
        "200":
          description: List of Pets
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PetMain'

components:
  schemas:
    PetMain:
      allOf:
        - $ref: '#/components/schemas/PetA'
        - type: object
          properties:
            propMain:
              type: integer
              format: int64
    PetA:
      allOf:
        - $ref: '#/components/schemas/PetB'
        - type: object
          properties:
            propA:
              type: integer
              format: int64
    PetB:
      allOf:
        - $ref: '#/components/schemas/PetC'
        - type: object
          properties:
            propB:
              type: integer
              format: int64
    PetC:
      type: object
      properties:
        propC:
          type: integer
          format: int64