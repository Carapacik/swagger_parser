openapi: 3.1.0
info:
  title: Family API (anyOf, non-discriminated)
  version: 1.0.0
paths: {}
components:
  schemas:
    # This top-level schema intentionally uses anyOf WITHOUT a discriminator
    # to reproduce the parseDataClasses failure where discriminator is assumed
    # to exist for anyOf/oneOf at the root of a component schema.
    CatDogHuman:
      anyOf:
        - $ref: '#/components/schemas/Cat'
        - $ref: '#/components/schemas/Dog'
        - $ref: '#/components/schemas/Human'
    Family:
      type: object
      properties:
        members:
          type: array
          items:
            anyOf:
              - $ref: '#/components/schemas/Cat'
              - $ref: '#/components/schemas/Dog'
              - $ref: '#/components/schemas/Human'
      required:
        - members
    Cat:
      type: object
      properties:
        mewCount:
          type: integer
          description: Number of times the cat meows.
      required: [mewCount]
    Dog:
      type: object
      properties:
        barkSound:
          type: string
          description: The sound of the dog's bark.
      required: [barkSound]
    Human:
      type: object
      properties:
        job:
          type: string
          description: The job of the human.
      required: [job]
